<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/iron-selector/iron-selector.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/polymerfire/polymerfire.html">
<script src="https://apis.google.com/js/platform.js" async defer> </script>
<script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>

<link rel="import" href="my-icons.html">
<link rel="import" href="page-footer.html">

<dom-module id="home-page">
  <template>
    <style>
      :host {
        --app-primary-color: none;
        --app-secondary-color: black;

        display: block;
      }
    
    #search-bar {
        position: relative;
        top: 30%;
        left: 25%;
        width: 50%;
        color: white;
        --paper-input-container-color: white;
        --paper-input-container-focus-color: white;
        --paper-input-container-input-color: white;
    }
    
    #inputs {
        display: flex;
        flex-direction: row;
        color: white;
        --paper-input-container-input: {
          font-size: 16px;
        };
    }
    
    #search {
        flex-grow: 1;
        
    }
    paper-button {
        text-transform: none;
    }
    
    #signin-button {
        border-radius: 5px;
        height: 40px;
        background: #ADEBCF; 
        color: #878B8F;
    }
    
    #login-button.hover {
        background: #3469bc;
    }
    
      app-drawer-layout:not([narrow]) [drawer-toggle] {
        display: none;
      }

      app-header {
        color: #fff;
        background-color: var(--app-primary-color);
      }

      app-header paper-icon-button {
        --paper-icon-button-ink-color: white;
      }

      .drawer-list {
        margin: 0 20px;
      }

      .drawer-list a {
        display: block;
        padding: 0 16px;
        text-decoration: none;
        color: var(--app-secondary-color);
        line-height: 40px;
      }

      .drawer-list a.iron-selected {
        color: black;
        font-weight: bold;
      }

      #howitworks3{
        display: flex;
        flex-direction: row;
        margin: 0 40px;
      }

      .howitworksdiv{
        flex-grow: 1;
        text-align: center;
        margin: 0 10px 0 10px;
      }

      #mainpagerating{
        padding-bottom: 40px;
        padding-top: 10px;
        background-color: #F6F6F6;
      }

      #ratings{
        display: flex;
        flex-direction: row;
        margin: 0 50px;
      }

      .singlerating{
        flex-grow: 1;
        text-align: center;
        margin: 0 40px;
        padding: 15px;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        font-size: 14px;
        border-radius: 5px;
      }
    </style>
    

    <app-location
        route="{{route}}"
        url-space-regex="^[[rootPath]]">
    </app-location>

    <app-route
        route="{{route}}"
        pattern="[[rootPath]]:page"
        data="{{routeData}}"
        tail="{{subroute}}">
    </app-route>

    <app-drawer-layout fullbleed narrow="{{narrow}}">

      <!-- Main content -->
      <app-header-layout has-scrolling-region style='background: linear-gradient(
          rgba(0, 0, 0, 0.4),
          rgba(0, 0, 0, 0.4)
          ), url("../images/homebackground.jpg") no-repeat center; background-size: cover;'>

        <app-header slot="header" condenses reveals effects="waterfall">
          <app-toolbar>
            <paper-icon-button icon="my-icons:menu" drawer-toggle></paper-icon-button>
            <div main-title><img src="../images/feedmelogo-white.png" style="height:40px;"></div>
            <firebase-auth
                id="auth"
                app-name="notes"
                provider="google"
                signed-in="{{signedIn}}"
                user="{{user}}">
            </firebase-auth>
            <paper-button id='sign-in' onclick='login()' >Login</paper-button>
            <paper-button raised id='logout'>Logout</paper-button>
          </app-toolbar>
        </app-header>
        <div id='search-bar'>
            <h1 style='text-align: center;'>Make Your Home A Resturant</h1>
            <h3 style='font-weight: normal; text-align: center;'>Share Meals With Others</h3>
            <div id='inputs'>
            <div class="fb-login-button" data-max-rows="1" data-size="large" data-button-type="continue_with" data-show-faces="false" data-auto-logout-link="false" data-use-continue-as="false"></div>
                <paper-input label='Search' id='search'></paper-input>
                <paper-input label='Date'></paper-input>
                <paper-input label='Guests'></paper-input>
            </div>
        </div>
      </app-header-layout>
      <div id="howitworks">
        <h2 style="text-align: center; font-weight: normal;">HOW IT WORKS</h2>
        <div id="howitworks3">
          <div class="howitworksdiv">
            <h3>Explore</h3>
            <p>A cooking class in Rome, a rooftop dinner party in Barcelona, a supper club in London…Browse culinary events with our hand-selected hosts</p>
          </div>
          <div class="howitworksdiv">
            <h3>Reserve</h3>
            <p>A cooking class in Rome, a rooftop dinner party in Barcelona, a supper club in London…Browse culinary events with our hand-selected hosts</p>
          </div>
          <div class="howitworksdiv">
            <h3>Feast</h3>
            <p>A cooking class in Rome, a rooftop dinner party in Barcelona, a supper club in London…Browse culinary events with our hand-selected hosts</p>
          </div>
        </div>
      </div>
      <div id="mainpagerating">
        <h2 style="text-align: center; font-weight: normal;">HEAR FROM OUR GUESTS</h2>
        <div id="ratings">
          <div class="singlerating">
            <p>"Andrea in Rome prepared a multi-course meal with dishes from all regions of Italy. As great as the meal was, the conversation was just as good. We were at their home for more than three hours and the time flew by. This was our first EatWith experience but we will do it again as we travel to other cities.”</p>
            <h4>Evan Gurda</h4>
          </div>
          <div class="singlerating">
            <p>"Andrea in Rome prepared a multi-course meal with dishes from all regions of Italy. As great as the meal was, the conversation was just as good. We were at their home for more than three hours and the time flew by. This was our first EatWith experience but we will do it again as we travel to other cities.”</p>
            <h4>Christie</h4>
          </div>
          <div class="singlerating">
            <p>"Andrea in Rome prepared a multi-course meal with dishes from all regions of Italy. As great as the meal was, the conversation was just as good. We were at their home for more than three hours and the time flew by. This was our first EatWith experience but we will do it again as we travel to other cities.”</p>
            <h4>Esteban</h4>
          </div>
        </div>
      </div>
      <page-footer></page-footer>
    </app-drawer-layout>
  </template>



  <script>
    class HomePage extends Polymer.Element {
      static get is() { return 'home-page'; }
    }

    window.customElements.define(HomePage.is, HomePage);
  </script>
  <script>
  
  //var provider = new firebase.auth.GoogleAuthProvider();
 
    // Visit https://console.firebase.google.com/project/<your project id>/overview and click on "Add Firebase to your web app"
    
    var config = {
      apiKey: "AIzaSyDdxymRZQOLwyU9yBUdbul9LVeRpTfgaxo",
      authDomain: "feedme-88e81.firebaseapp.com",
      databaseURL: "https://feedme-88e81.firebaseio.com",
      //storageBucket: "<your project id>.appspot.com",
    };
    firebase.initializeApp(config);
  </script>
    <!--Handle auth events-->
  
  <script>
    firebase.auth().onAuthStateChanged(function(user) {
      window.user = user;
      //The above example keeps window.user in sync with your Firebase Auth user. user will be undefined if the user is not logged in.

      //use firebase.auth().currentUser to obtain user info 
    });
  </script>
  
  <script>    
      function login(){
     // e.preventDefault();
     // e.stopPropagation();
      var provider = new firebase.auth.GoogleAuthProvider();
      provider.addScope('profile');
      provider.addScope('email');
      provider.addScope('https://www.googleapis.com/auth/plus.me');
      firebase.auth().signInWithPopup(provider); // Opens a popup window and returns a promise to handle errors.
      var auth = firebase.auth();
      var currentUser = auth.currentUser;
      //firebase.auth().currentUser;
    };
    function logout(){
      firebase.auth().signOut();
    };
  </script>
  <!-- <script>
    FB.login(function(response) {
      // handle the response
    }, {scope: 'public_profile,email'});
  </script> -->
</dom-module>
